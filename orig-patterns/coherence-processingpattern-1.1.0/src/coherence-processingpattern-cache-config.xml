<?xml version="1.0"?>
<!DOCTYPE cache-config SYSTEM "cache-config.dtd">

	<!--
		File: coherence-processingpattern-cache-config.xml Copyright (c) 2009.
		All Rights Reserved. Oracle Corporation. Oracle is a registered
		trademark of Oracle Corporation and/or its affiliates. This software
		is the confidential and proprietary information of Oracle Corporation.
		You shall not disclose such confidential and proprietary information
		and shall use it only in accordance with the terms of the license
		agreement you entered into with Oracle Corporation. Oracle Corporation
		makes no representations or warranties about the suitability of the
		software, either express or implied, including but not limited to the
		implied warranties of merchantability, fitness for a particular
		purpose, or non-infringement. Oracle Corporation shall not be liable
		for any damages suffered by licensee as a result of using, modifying
		or distributing this software or its derivatives. This notice may not
		be removed or altered.
	-->

<cache-config>
	<caching-scheme-mapping>

		<!--
			BEGIN: com.oracle.coherence.patterns.processing The following section
			needs to be included in your application Cache Configuration file to
			make use of the Processing Pattern
		-->
		<cache-mapping>
			<cache-name>coherence.patterns.processing.submissions</cache-name>
			<scheme-name>distributed-scheme-with-backing-map-listener</scheme-name>
			<init-params>
				<init-param>
					<param-name>backing-map-listener-class-name</param-name>
					<param-value>com.oracle.coherence.common.backingmaplisteners.DelegatingBackingMapListener</param-value>
				</init-param>
			</init-params>
		</cache-mapping>

		<cache-mapping>
			<cache-name>coherence.patterns.processing.submissionresults</cache-name>
			<scheme-name>distributed-scheme-with-backing-map-listener</scheme-name>
		</cache-mapping>

		<cache-mapping>
			<cache-name>coherence.patterns.processing.dispatchers</cache-name>
			<scheme-name>ReplicatedDispatcherScheme</scheme-name>
		</cache-mapping>

		<cache-mapping>
			<cache-name>coherence.patterns.processing.executors</cache-name>
			<scheme-name>ReplicatedExecutorScheme</scheme-name>
		</cache-mapping>
		<cache-mapping>
			<cache-name>coherence.patterns.processing.executorqueues</cache-name>
			<scheme-name>distributed-scheme-with-backing-map-listener</scheme-name>
		</cache-mapping>

		<!-- END: com.oracle.coherence.patterns.processing -->

	</caching-scheme-mapping>

	<caching-schemes>

		<!--
			BEGIN: com.oracle.coherence.patterns.processing The following section
			needs to be included in your application Cache Configuration file to
			make use of the Processing Pattern
		-->
		<distributed-scheme>
			<scheme-name>distributed-scheme-with-backing-map-listener</scheme-name>
			<service-name>DistributedCacheWithBackingMapListener</service-name>
			<thread-count>0</thread-count>

			<backing-map-scheme>
				<local-scheme>
					<listener>
						<class-scheme>
							<class-name>{backing-map-listener-class-name com.oracle.coherence.common.backingmaplisteners.NullBackingMapListener}</class-name>
							<init-params>
								<init-param>
									<param-type>com.tangosol.net.BackingMapManagerContext</param-type>
									<param-value>{manager-context}</param-value>
								</init-param>
							</init-params>
						</class-scheme>
					</listener>
				</local-scheme>
			</backing-map-scheme>

			<autostart>true</autostart>
		</distributed-scheme>

		<replicated-scheme>
			<scheme-name>ReplicatedDispatcherScheme</scheme-name>
			<backing-map-scheme>
				<local-scheme>
				</local-scheme>
			</backing-map-scheme>
		</replicated-scheme>
		
		<replicated-scheme>
			<scheme-name>ReplicatedExecutorScheme</scheme-name>
			<backing-map-scheme>
				<local-scheme>
				</local-scheme>
			</backing-map-scheme>
		</replicated-scheme>

		<!-- END: com.oracle.coherence.patterns.processing -->

	</caching-schemes>

</cache-config>
		